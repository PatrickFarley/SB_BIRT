<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>SecureBrowserFunctionalRequirements</title>


<style type="text/css">
html,
body,
h1,
h2,
h3,
h4,
h5,
h6,
p,
blockquote,
ol,
ul,
li,
img {
  margin: 0;
  padding: 0;
  font-size: 100%;
  font: inherit;
  vertical-align: baseline;
}
html * {
  font-family: "ff-din-web-pro-1", "ff-din-web-pro-2", sans-serif;
  font-size: 16px;
  line-height: 19.2px;
  color-profile: sRGB;
}
body {
  margin: 40px 70px;
}
p {
  font-weight: lighter;
  margin-bottom: 20px;
}
strong {
  font-weight: bold;
}
ol,
ul {
  margin-left: 2em;
  margin-bottom: 20px;
}
ul ul,
ol ol,
ul ol,
ol ul {
  margin-top: 10px;
}
li {
  margin-bottom: 10px;
}
h1,
h2,
h3,
h4,
h5,
h6 {
  font-weight: lighter;
  text-transform: capitalize;
  margin-top: 40px;
  margin-bottom: 20px;
}
h1 {
  font-size: 24.624px;
  line-height: 29.548799999999996px;
}
h2 {
  font-size: 24.624px;
  line-height: 29.548799999999996px;
}
h3 {
  font-size: 23.44px;
  line-height: 28.128px;
}
h4 {
  font-size: 22.16px;
  line-height: 26.592px;
}
h5 {
  font-size: 22.16px;
  line-height: 26.592px;
}
h6 {
  font-size: 22.16px;
  line-height: 26.592px;
}
img {
  margin-bottom: 20px;
}
h1 img,
h2 img,
h3 img,
h4 img,
h5 img,
h6 img,
p img {
  margin-bottom: 0;
}
pre {
  margin-bottom: 20px;
}
pre,
code {
  font-family: monospace;
}
pre {
  white-space: pre;
  white-space: pre-wrap;
  word-wrap: break-word;
  padding: 15px;
}
blockquote {
  border-left: 4px solid;
  padding: 0 15px;
}
blockquote > :first-child {
  margin-top: 0;
}
blockquote > :last-child {
  margin-bottom: 15px;
}
h1 {
  text-transform: uppercase;
  font-weight: bold;
  border-bottom: 1px solid;
}
h2 {
  border-bottom: 1px solid;
}
h3,
h4,
h5,
h6 {
  border-bottom: none;
}
html * {
  color: #657b83;
}
html body {
  background-color: #fdf6e3;
}
html h1,
html h2,
html h3,
html h4,
html h5,
html h6 {
  color: #586e75;
  border-color: #657b83;
}
html a,
html a:active,
html a:visited {
  color: #586e75;
}
html a:hover {
  background-color: #eee8d5;
}
html pre {
  color: #586e75;
  background-color: #eee8d5;
}
html a,
html a:active,
html a:visited,
html code.url {
  color: #b58900;
}
html h1 {
  color: #b58900;
}
html h2,
html h3,
html h4,
html h5,
html h6 {
  color: #b58900;
}
kbd {
  display: inline-block;
  padding: 3px 5px;
  font-size: 11px;
  line-height: 10px;
  color: #555;
  vertical-align: middle;
  background-color: #fcfcfc;
  border: solid 1px #ccc;
  border-bottom-color: #bbb;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #bbb;
}

@media print {
  body {
    margin: 0;
  }
  * {
    color: #000 !important;
  }
}
</style>

<style type="text/css">
/**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */

code[class*="language-"],
pre[class*="language-"] {
	color: black;
	background: none;
	text-shadow: 0 1px white;
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
	text-shadow: none;
	background: #b3d4fc;
}

pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
code[class*="language-"]::selection, code[class*="language-"] ::selection {
	text-shadow: none;
	background: #b3d4fc;
}

@media print {
	code[class*="language-"],
	pre[class*="language-"] {
		text-shadow: none;
	}
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #f5f2f0;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: slategray;
}

.token.punctuation {
	color: #999;
}

.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
	color: #905;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #690;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
	color: #a67f59;
	background: hsla(0, 0%, 100%, .5);
}

.token.atrule,
.token.attr-value,
.token.keyword {
	color: #07a;
}

.token.function {
	color: #DD4A68;
}

.token.regex,
.token.important,
.token.variable {
	color: #e90;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}
</style>


</head>

<body>

<h1 id="toc_0">Secure Browser Functional Requirements</h1>

<p>v.2.1.8 - Last modified 14-Sep-2017</p>

<h2 id="toc_1">IP Notice</h2>

<p>This specification is &copy;2017 by American Institutes for Research and is licensed under a <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</p>

<h2 id="toc_2">Overview</h2>

<p>At a high level, the Secure Browser must do the following:</p>

<ol>
<li>Browse to the designated test-taking URL (and no other) and act as the web browser user agent for the test delivery servers.

<ul>
<li><em>Rationale</em>: It&#39;s crucial for the browser to prevent the user from browsing to an unauthorized site, since test-related information may be obtained and/or shared with others at that site. Furthermore, the browser needs to be &quot;trusted&quot; by the test delivery systems and be capable of delivering and faithfully rendering assessments according to modern web standards.</li>
<li><em>User Stories</em>:

<ul>
<li>The student starts the browser by pointing it at an unauthorized site. The browser recognizes this and instead directs the user to the default testing site. After state selection by the student, the browser authenticates with the TDS servers.</li>
<li>The student starts the browser without an explicit URL. The browser opens the default testing site and after state selection by the student, the browser authenticates with the TDS servers.</li>
</ul></li>
</ul></li>
<li>Exclude the student from accessing any unauthorized service or application on the device. Generally speaking this includes all applications and tools except for assistive technology applications.

<ul>
<li><em>Rationale</em>: The browser must prevent the user from accessing tools or applications that could provide them with an advantage in answering test questions (and thereby violating the construct of the assessment). Examples of such applications would be another web browser, a calculator, a spell checker, a dictionary, email, VoIP, or IM.</li>
<li><em>User Stories</em>: 

<ul>
<li>The student is taking a math assessment which requires long division. The student switches to the Calculator application, performs the division, and enters the response into the test.</li>
<li>The student is taking a science assessment which requires analysis of a chemical reaction. The student switches to another web browser, searches the internet for the response, and enters it into the test.</li>
</ul></li>
</ul></li>
<li>Provide a security API, callable from JavaScript, which allows the testing server to assess the security status of the devices. (The API is defined in [1].)

<ul>
<li><em>Rationale</em>: The browser must be able to assess the security status of the device on which it is running, and pass that information securely to the testing server.</li>
<li><em>User Stories</em>: 

<ul>
<li>The student starts the secure browser but other apps are open. The testing server requests the security status of the device from the browser. The browser detects if the appropriate conditions are in place to consider the device secure and reports back to the testing server.</li>
</ul></li>
</ul></li>
<li>Provide a text-to-speech API, callable from JavaScript, which allows the testing application to make use of text-to-speech functionalities provided by the device operating system or by the browser.

<ul>
<li><em>Rationale</em>: The browser must be able to use available TTS systems (either custom or W3C standard) when requested by the testing server.</li>
<li><em>User Stories</em>: 

<ul>
<li>The student starts a test on the secure browser. The testing server requests that certain assessment items be read out loud to the student. The server makes appropriate API calls to effect this.</li>
</ul></li>
</ul></li>
<li>Optionally provide a recording API, allowing simple recording capabilities such as play/pause/resume/stop, as well as recording retrieval. This capability is browser-dependent.

<ul>
<li><em>Rationale</em>: In order to evaluate a student&#39;s verbal skills, the device should have the ability to record and playback audio via the browser.</li>
<li><em>User Stories</em>: 

<ul>
<li>The student starts a test on the secure browser. The testing server displays a test item and requests that the student provide a verbal response. The server makes appropriate API calls to effect this.</li>
</ul></li>
</ul></li>
</ol>

<p>Most of the high level functional requirements listed below are implemented by the Secure Browser API Specification [1].</p>

<h2 id="toc_3">Requirements</h2>

<h3 id="toc_4">A. Security Related Requirements</h3>

<ol>
<li>F01. The secure browser shall NOT provide a means to clear browser cache.

<ul>
<li><em>Rationale</em>: Browser cache is controlled via <code>cache-control</code> headers set from the server side. The server attaches query strings to js/CSS links which allows it to break caches by changing the query string parameters.</li>
<li><em>References</em>: Smarter Balanced Secure Browser Contract requirements.</li>
</ul></li>
<li>F02. The secure browser shall NOT provide a means to clear browser cookies.

<ul>
<li><em>Rationale</em>: Browser cookies can be indirectly expired by the server (by setting the cookie&#39;s expiration date to a past date). The next time a user makes a request to a page within the domain or path that set the cookie, the browser will determine that the cookie has expired and remove it.</li>
<li><em>References</em>: Smarter Balanced Secure Browser Contract requirements.</li>
</ul></li>
<li>F03. The secure browser may provide a means to clear system clipboard (optional).

<ul>
<li><em>Rationale</em>: The clipboard is a software facility used for short-term data storage and/or data transfer between documents or applications, via copy and paste operations. Clearing it can eliminate the possibility of the student using the clipboard to maintain assessment-related information.</li>
<li><em>User Stories</em>:

<ul>
<li>The student copies assessment-related details for a particular test before starting a test and paste that information to answer assessment questions in secure browser . </li>
</ul></li>
</ul></li>
<li>F04. The secure browser may provide a means to retrieve system MAC address (optional).

<ul>
<li><em>Rationale</em>: A Media Access Control address, better known as MAC address, is a unique identifier assigned to a network adapter or network interface card (NIC) by the manufacturer for identification. Keeping track of MAC addresses allows for troubleshooting machine-specific issues.</li>
<li><em>User Stories</em>: 

<ul>
<li>The student takes a test on a particular device and experiences random timeout problems not experienced by other students. The student&#39;s MAC address can be used to identify the specific device and troubleshoot the issue.</li>
</ul></li>
</ul></li>
<li>F05. The secure browser shall NOT provide a means to retrieve the system IP address(es).

<ul>
<li><em>Rationale</em>:  An Internet Protocol address (IP address) is a numerical label assigned to each device connected to a computer network that uses the Internet Protocol for communication. Exposing IP addresses through a browser service can enable hackers to exploit a service on an open port.</li>
<li><em>User Stories</em>:

<ul>
<li>To exploit a service on a port, a hacker could banner grab for the software and version. With this information, they would search for known exploits to run against the service.</li>
</ul></li>
</ul></li>
<li>F06. The secure browser shall NOT provide a means to retrieve the current list of running processes, their PIDs and their PPIDs.

<ul>
<li><em>Rationale</em>: The process identifier (normally referred to as the process ID or just PID) is a number used by most multiprocessing operating system kernels to uniquely identify an active process. Exposing PID or PPIDs could potentially be misused to compromise student privacy.</li>
<li><em>User Stories</em>:

<ul>
<li>A nefarious user obtains the PIDs of all processes running on a student machine, compromising the student&#39;s privacy and potentially the school&#39;s security.</li>
</ul></li>
</ul></li>
<li>F07. The secure browser may provide a means to obtain the application start time (optional).

<ul>
<li><em>Rationale</em>: Application start time provides client-side time of current launch. </li>
<li><em>User Stories</em>:

<ul>
<li>The ability to capture uptime provides useful statistics about the usage model of the secure browser. This information could possibly be used in the future to restart the browser periodically for improved performance.</li>
</ul></li>
</ul></li>
<li>F08. The secure browser shall provide a means to query if <code>Spaces</code> is enabled or not, for macOS.

<ul>
<li><em>Rationale</em> : Spaces enables users to create multiple virtual desktops suited to the unique needs or work habits of the user. A user could, for example, create and assign a &quot;space&quot; to office work, enabling him or her to leave a work-related application (such as a word processor or a spreadsheet) running full screen and then switch to a different space designated for browsing the Internet or navigating file structure in Finder windows.</li>
<li><em>User Stories</em>:

<ul>
<li>The student uses one space for the Test Delivery System, while dedicating another space to searching the internet for answers. This API provides the capability to determine whether spaces are enabled, and if so blocks user from taking a test.</li>
</ul></li>
</ul></li>
<li>F15. The secure browser shall provide a means to set permissive mode.

<ul>
<li><em>Rationale</em>: Permissive mode provides the user with the ability to change configurations for assistive technology tools such as JAWS, during a testing session.</li>
<li><em>User Stories</em>:

<ul>
<li>Student wants to change rate/pitch of JAWS for the test. Without permissive mode, the student would not be able to switch window focus away from the test.</li>
</ul></li>
</ul></li>
<li>F49. The secure browser shall provide a means to query the status of permissive mode.

<ul>
<li><em>Rationale</em>: Permissive mode provides the user with the ability to change configurations for assistive technology tools such as JAWS, during a testing session.</li>
<li><em>User Stories</em>:

<ul>
<li>This API provides the ability for the Test Delivery System to determine whether machine is in permissive mode or not if enabled Test Delivery System disable the permissive mode before starting any items to answer.</li>
</ul></li>
</ul></li>
<li>F31. The secure browser shall be able to determine whether blacklisted processes are running on the client machine.

<ul>
<li><em>Rationale</em> : Applications such as Skype, FaceTime, Outlook or internet browsers could allow students to obtain test answers or share test details from with others. Checking blacklisted process provides ability for the calling application to block user from taking a test if such applications are running.</li>
<li><em>User Stories</em>:

<ul>
<li>The student begins a test and attempts to switch to an unauthorized application to look for the answer. This would violate test construct and security. This scenario should be blocked.</li>
</ul></li>
</ul></li>
<li>F36. The secure browser shall be able to get device info.</li>
<li>F37. The secure browser shall be able to lock down the environment.</li>
<li>F38. The secure browser shall be able to check if environment is secure for testing.</li>
<li>F46. The secure browser may be able to get the status of a particular browser capability (optional).</li>
<li>F47. The secure browser may be able to set the status of a particular browser capability (optional).</li>
</ol>

<h3 id="toc_5">B. Device Related Requirements</h3>

<ol>
<li>F09. The desktop secure browser shall provide a means to get system volume.

<ul>
<li><em>Rationale</em>: System volume provides the student with the ability to change system volume settings in secure browser as it is open in kiosk/fullscreen mode where minimization of secure browser is not allowed to access volume setting.</li>
<li><em>User Stories</em>:

<ul>
<li>Student is listening to voice output through JAWS and wants to change volume without going into permissive mode, student selects setting and changes system volume.</li>
</ul></li>
</ul></li>
<li>F10. The desktop secure browser shall provide a means to set system volume.

<ul>
<li><em>Rationale</em>: System volume provides the user with the ability to change system volume settings in secure browser as it is open in kiosk/fullscreen mode where minimization of secure browser is not allowed to access volume setting.</li>
<li><em>User Stories</em>:

<ul>
<li>Student is listening to voice output through JAWS and wants to change volume without going into permissive mode, student selects setting and changes system volume.</li>
</ul></li>
</ul></li>
<li>F11. The desktop secure browser shall provide a means to mute system volume.

<ul>
<li><em>Rationale</em>: System mute provides the user with the ability to mute system volume settings in secure browser as it is open in kiosk/fullscreen mode where minimization of secure browser is not allowed to access volume setting.</li>
<li><em>User Stories</em>:

<ul>
<li>Student is listening to voice output through JAWS and wants to mute system volume without going into permissive mode, student selects setting and mute system volume.</li>
</ul></li>
</ul></li>
<li>F12. The desktop secure browser shall provide a means to unmute system volume.

<ul>
<li><em>Rationale</em>: System unmute provides the user with the ability to unmute system volume settings in secure browser as it is open in kiosk/fullscreen mode where minimization of secure browser is not allowed to access volume setting.</li>
<li><em>User Stories</em>:

<ul>
<li>Student is using JAWS and wants to unmute system volume without going into permissive mode, student selects setting and unmute system volume.</li>
</ul></li>
</ul></li>
<li>F13. The desktop secure browser shall provide a means to check if system volume is Muted.</li>
<li>F14. The desktop secure browser shall provide a means to close the browser.

<ul>
<li><em>Rationale</em>: Close Browser API provides student with the ability to close secure browser as it is open in kiosk/fullscreen mode where switching to different application is not allowed.</li>
<li><em>User Stories</em>:

<ul>
<li>Student completed test and want to close the secure browser to continue his/her other assignment on device.</li>
<li>School Administration team wants to update system or software on the device and want to close the secure browser.</li>
</ul></li>
</ul></li>
</ol>

<h3 id="toc_6">C. Text-to-Speech (TTS) Related Requirements</h3>

<p><em>Rationale</em>: Text-to-Speech, abbreviated as TTS, is a form of speech synthesis that converts text into spoken voice output. Text-to-Speech API provides the ability for visually impaired student to listen computer-generated spoken voice that would &quot;read&quot; questionnaire during test session. Users may need to interact with the TTS speech (stop, pause, play, etc.) for a variety of reasons. For example, the room may have become noisy, or the user needs to replay the selection for better comprehension, or the user doesn&#39;t want or need to hear the remainder of the selected text being spoken.</p>

<ol>
<li>F16. The secure browser shall provide shall provide a means to play arbitrary text.

<ul>
<li><em>User Stories</em>: 

<ul>
<li>Student selects an arbitrary amount of text and chooses to play it aloud. The browser outputs this text in a spoken voice.</li>
</ul></li>
</ul></li>
<li>F17. The secure browser shall provide a means to stop TTS speech in progress.

<ul>
<li><em>User Stories</em>:

<ul>
<li>Student is finished listening to the spoken voice output of previously selected text, and directs the browser to stop playing it.</li>
</ul></li>
</ul></li>
<li>F18. The secure browser shall provide a means to pause TTS speech in progress.

<ul>
<li><em>User Stories</em>:

<ul>
<li>Student needs to pause the currently active TTS speech, and directs the browser to pause the speech.</li>
</ul></li>
</ul></li>
<li>F19. The secure browser shall provide a means to retrieve list of TTS voice packs available on the machine.

<ul>
<li><em>Rationale</em>: Text-to-Speech voice packs are necessary in order to provide a variety of speech languages to the users. These voice packs provide different languages, regional accents, and gender variants.</li>
<li><em>User Stories</em>:

<ul>
<li>Student is listening to TTS voice output but has difficulty understanding it due to the voice&#39;s regional accents. Student can change the voice pack being used for Text-to-Speech.</li>
</ul></li>
</ul></li>
<li>F21. The secure browser shall provide a means to resume previously paused TTS speech.

<ul>
<li><em>User Stories</em>:

<ul>
<li>Student desires to continue the previously paused speech, and directs the browser to resume voice output of the previously selected text from where it was last paused.</li>
</ul></li>
</ul></li>
<li>F22. The secure browser shall provide a means of notifying the web application of status and progress of TTS.

<ul>
<li><em>Rationale</em>: 

<ul>
<li>Text-to-Speech status events allow the application to monitor TTS speech progress and make adjustments for UI updates accordingly.</li>
</ul></li>
<li><em>User Stories</em>:

<ul>
<li>Student is listening to TTS voice output and can visually track which word is being spoken from the event updates of the currently highlighted word.</li>
</ul></li>
</ul></li>
<li>F23. The secure browser shall provide a means to set a TTS voice pack as the current voice.

<ul>
<li><em>Rationale</em>: Text-to-Speech voice packs are necessary in order to provide a variety of speech languages to the students. These voice packs provide different languages, regional accents, and gender variants.</li>
<li><em>User Stories</em>:

<ul>
<li>Student is listening to TTS voice output but has difficulty understanding the voice output due to a voice&#39;s regional accent. The student is able to select a different voice pack for Text-to-Speech via the browser.</li>
</ul></li>
</ul></li>
<li>F28. The secure browser shall provide a means to get/set TTS pitch.</li>
<li>F29. The secure browser shall provide a means to get/set TTS rate.</li>
<li>F30. The secure browser shall provide a means to get/set TTS volume.</li>
</ol>

<h3 id="toc_7">D. Audio Recording Related Requirements</h3>

<p>These requirements are optional.</p>

<ol>
<li>F50. The secure browser may provide a means to initialize the audio recording system.</li>
<li>F25. The secure browser may provide a means to start an audio recording.</li>
<li>F26. The secure browser may provide a means to stop an audio recording.</li>
<li>F27. The secure browser may provide a means to playback an audio recording.</li>
<li>F40. The secure browser may provide a means to set audio recorder status.</li>
<li>F41. The secure browser may provide a means to get audio recorder capabilities.</li>
<li>F42. The secure browser may provide a means to retrieve a recording for playback.</li>
<li>F43. The secure browser may provide a means to stop playback.</li>
<li>F44. The secure browser may provide a means to pause playback.</li>
<li>F45. The secure browser may provide a means to resume playback of a paused audio recording.</li>
<li>F48. The secure browser may provide a means to list all available audio recordings.</li>
<li>F51. The secure browser may provide a means to retrieve an audio file from a filename.</li>
</ol>

<h3 id="toc_8">E. Standards Compliance Requirements</h3>

<ol>
<li>F32. The secure browser shall be HTML5 compliant.</li>
<li>F34. The secure browser shall be CSS3 compliant.</li>
</ol>

<h3 id="toc_9">F. Miscellaneous Requirements</h3>

<ol>
<li>F35. The secure browser shall check for an appropriate Global Object for API use.</li>
<li>F52. The Secure Browser shall support the Secure Browser Launch Protocol as defined in [2].</li>
</ol>

<h2 id="toc_10">References</h2>

<ol>
<li><a href="https://github.com/SmarterApp/SB_BIRT/blob/master/irp/doc/req/SecureBrowserAPIspecification.md">Secure Browser API Specification</a></li>
<li><a href="https://github.com/SmarterApp/SB_BIRT/blob/master/irp/doc/req/SecureBrowserLaunchProtocol.md">Secure Browser Launch Protocol</a></li>
</ol>



<script type="text/javascript">
var _self="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},Prism=function(){var e=/\blang(?:uage)?-(\w+)\b/i,t=0,n=_self.Prism={util:{encode:function(e){return e instanceof a?new a(e.type,n.util.encode(e.content),e.alias):"Array"===n.util.type(e)?e.map(n.util.encode):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++t}),e.__id},clone:function(e){var t=n.util.type(e);switch(t){case"Object":var a={};for(var r in e)e.hasOwnProperty(r)&&(a[r]=n.util.clone(e[r]));return a;case"Array":return e.map&&e.map(function(e){return n.util.clone(e)})}return e}},languages:{extend:function(e,t){var a=n.util.clone(n.languages[e]);for(var r in t)a[r]=t[r];return a},insertBefore:function(e,t,a,r){r=r||n.languages;var l=r[e];if(2==arguments.length){a=arguments[1];for(var i in a)a.hasOwnProperty(i)&&(l[i]=a[i]);return l}var o={};for(var s in l)if(l.hasOwnProperty(s)){if(s==t)for(var i in a)a.hasOwnProperty(i)&&(o[i]=a[i]);o[s]=l[s]}return n.languages.DFS(n.languages,function(t,n){n===r[e]&&t!=e&&(this[t]=o)}),r[e]=o},DFS:function(e,t,a,r){r=r||{};for(var l in e)e.hasOwnProperty(l)&&(t.call(e,l,e[l],a||l),"Object"!==n.util.type(e[l])||r[n.util.objId(e[l])]?"Array"!==n.util.type(e[l])||r[n.util.objId(e[l])]||(r[n.util.objId(e[l])]=!0,n.languages.DFS(e[l],t,l,r)):(r[n.util.objId(e[l])]=!0,n.languages.DFS(e[l],t,null,r)))}},plugins:{},highlightAll:function(e,t){var a={callback:t,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};n.hooks.run("before-highlightall",a);for(var r,l=a.elements||document.querySelectorAll(a.selector),i=0;r=l[i++];)n.highlightElement(r,e===!0,a.callback)},highlightElement:function(t,a,r){for(var l,i,o=t;o&&!e.test(o.className);)o=o.parentNode;o&&(l=(o.className.match(e)||[,""])[1],i=n.languages[l]),t.className=t.className.replace(e,"").replace(/\s+/g," ")+" language-"+l,o=t.parentNode,/pre/i.test(o.nodeName)&&(o.className=o.className.replace(e,"").replace(/\s+/g," ")+" language-"+l);var s=t.textContent,u={element:t,language:l,grammar:i,code:s};if(!s||!i)return n.hooks.run("complete",u),void 0;if(n.hooks.run("before-highlight",u),a&&_self.Worker){var c=new Worker(n.filename);c.onmessage=function(e){u.highlightedCode=e.data,n.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r&&r.call(u.element),n.hooks.run("after-highlight",u),n.hooks.run("complete",u)},c.postMessage(JSON.stringify({language:u.language,code:u.code,immediateClose:!0}))}else u.highlightedCode=n.highlight(u.code,u.grammar,u.language),n.hooks.run("before-insert",u),u.element.innerHTML=u.highlightedCode,r&&r.call(t),n.hooks.run("after-highlight",u),n.hooks.run("complete",u)},highlight:function(e,t,r){var l=n.tokenize(e,t);return a.stringify(n.util.encode(l),r)},tokenize:function(e,t){var a=n.Token,r=[e],l=t.rest;if(l){for(var i in l)t[i]=l[i];delete t.rest}e:for(var i in t)if(t.hasOwnProperty(i)&&t[i]){var o=t[i];o="Array"===n.util.type(o)?o:[o];for(var s=0;s<o.length;++s){var u=o[s],c=u.inside,g=!!u.lookbehind,h=!!u.greedy,f=0,d=u.alias;u=u.pattern||u;for(var p=0;p<r.length;p++){var m=r[p];if(r.length>e.length)break e;if(!(m instanceof a)){u.lastIndex=0;var y=u.exec(m),v=1;if(!y&&h&&p!=r.length-1){var b=r[p+1].matchedStr||r[p+1],k=m+b;if(p<r.length-2&&(k+=r[p+2].matchedStr||r[p+2]),u.lastIndex=0,y=u.exec(k),!y)continue;var w=y.index+(g?y[1].length:0);if(w>=m.length)continue;var _=y.index+y[0].length,P=m.length+b.length;if(v=3,P>=_){if(r[p+1].greedy)continue;v=2,k=k.slice(0,P)}m=k}if(y){g&&(f=y[1].length);var w=y.index+f,y=y[0].slice(f),_=w+y.length,S=m.slice(0,w),O=m.slice(_),j=[p,v];S&&j.push(S);var A=new a(i,c?n.tokenize(y,c):y,d,y,h);j.push(A),O&&j.push(O),Array.prototype.splice.apply(r,j)}}}}}return r},hooks:{all:{},add:function(e,t){var a=n.hooks.all;a[e]=a[e]||[],a[e].push(t)},run:function(e,t){var a=n.hooks.all[e];if(a&&a.length)for(var r,l=0;r=a[l++];)r(t)}}},a=n.Token=function(e,t,n,a,r){this.type=e,this.content=t,this.alias=n,this.matchedStr=a||null,this.greedy=!!r};if(a.stringify=function(e,t,r){if("string"==typeof e)return e;if("Array"===n.util.type(e))return e.map(function(n){return a.stringify(n,t,e)}).join("");var l={type:e.type,content:a.stringify(e.content,t,r),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:r};if("comment"==l.type&&(l.attributes.spellcheck="true"),e.alias){var i="Array"===n.util.type(e.alias)?e.alias:[e.alias];Array.prototype.push.apply(l.classes,i)}n.hooks.run("wrap",l);var o="";for(var s in l.attributes)o+=(o?" ":"")+s+'="'+(l.attributes[s]||"")+'"';return"<"+l.tag+' class="'+l.classes.join(" ")+'" '+o+">"+l.content+"</"+l.tag+">"},!_self.document)return _self.addEventListener?(_self.addEventListener("message",function(e){var t=JSON.parse(e.data),a=t.language,r=t.code,l=t.immediateClose;_self.postMessage(n.highlight(r,n.languages[a],a)),l&&_self.close()},!1),_self.Prism):_self.Prism;var r=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return r&&(n.filename=r.src,document.addEventListener&&!r.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",n.highlightAll)),_self.Prism}();"undefined"!=typeof module&&module.exports&&(module.exports=Prism),"undefined"!=typeof global&&(global.Prism=Prism);
</script>


</body>

</html>
